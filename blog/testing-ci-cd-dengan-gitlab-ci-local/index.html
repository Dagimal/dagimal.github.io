<!doctype html><html lang=en-US><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://dagimal.com/laptop.png><title>Capek Ngepush? Testing Gitlab CI/CD dengan gitlab-ci-local | Dagimal (âŒ Í¡â–  ÍœÊ– Í¡â– )</title><meta name=title content="Capek Ngepush? Testing Gitlab CI/CD dengan gitlab-ci-local"><meta name=description content="Testing CI/CD Tanpa Capek Ngepush"><meta name=keywords content="Container,GitLab,DevOps,"><meta property="og:url" content="https://dagimal.com/blog/testing-ci-cd-dengan-gitlab-ci-local/"><meta property="og:site_name" content="Dagimal (âŒ Í¡â–  ÍœÊ– Í¡â– )"><meta property="og:title" content="Capek Ngepush? Testing Gitlab CI/CD dengan gitlab-ci-local"><meta property="og:description" content="Testing CI/CD Tanpa Capek Ngepush"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-11-24T17:38:07+07:00"><meta property="article:modified_time" content="2024-11-24T17:38:07+07:00"><meta property="article:tag" content="Container"><meta property="article:tag" content="GitLab"><meta property="article:tag" content="DevOps"><meta property="og:image" content="https://dagimal.com/default.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dagimal.com/default.png"><meta name=twitter:title content="Capek Ngepush? Testing Gitlab CI/CD dengan gitlab-ci-local"><meta name=twitter:description content="Testing CI/CD Tanpa Capek Ngepush"><meta itemprop=name content="Capek Ngepush? Testing Gitlab CI/CD dengan gitlab-ci-local"><meta itemprop=description content="Testing CI/CD Tanpa Capek Ngepush"><meta itemprop=datePublished content="2024-11-24T17:38:07+07:00"><meta itemprop=dateModified content="2024-11-24T17:38:07+07:00"><meta itemprop=wordCount content="511"><meta itemprop=image content="https://dagimal.com/default.png"><meta itemprop=keywords content="Container,GitLab,DevOps"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:sans-serif;font-size:20px;margin:auto;padding:20px;max-width:1e3px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#000}h1,h2,h3,h4,h5,h6,strong,b{color:#000}a{color:#0101ee}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:18px}input{font-size:18px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#000;display:block;padding:20px;white-space:pre-wrap;font-size:18px;overflow-x:auto}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style><meta property="og:type" content="article"><meta property="og:title" content="Capek Ngepush? Testing Gitlab CI/CD dengan gitlab-ci-local"><meta property="og:description" content="Testing CI/CD Tanpa Capek Ngepush"><meta property="og:url" content="https://dagimal.com/blog/testing-ci-cd-dengan-gitlab-ci-local/"><meta property="og:image" content="default.png"><meta property="og:site_name" content="Dagimal (âŒ Í¡â–  ÍœÊ– Í¡â– )"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Capek Ngepush? Testing Gitlab CI/CD dengan gitlab-ci-local"><meta name=twitter:description content="Testing CI/CD Tanpa Capek Ngepush"><meta name=twitter:image content="default.png"></head><body><header><a href=/ class=title><h2>Dagimal (âŒ Í¡â–  ÍœÊ– Í¡â– )</h2></a><nav><a href=/>Home</a>
<a href=/blog>Blog</a></nav></header><main><h1>Capek Ngepush? Testing Gitlab CI/CD dengan gitlab-ci-local</h1><p><i><time datetime=2024-11-24 pubdate>24 Nov, 2024</time></i></p><content><img width=1262 alt=image src=https://github.com/user-attachments/assets/31b5f4c0-ffea-4ff2-abfc-a9bba299dfd2><p>Pasti kalian kesel banget dong liat gambar diatas, gimana nggak kesel, udah capek2 bikin pipeline, ehh ketika di push malah error, belom lagi nunggunya lama cuma buat tau pipeline yang kita bikin sukses apa nggak.. Pengen nangis aja rasanya, apalagi errornya ga cuma sekali (baca: <em><strong>skill issue</strong></em>) ğŸ˜­</p><p>Untungnya, ada om Nielsen yang bikin tools menarik banget nih, yaitu</p><blockquote><p><strong><a href=https://github.com/firecow/gitlab-ci-local>GitHub - firecow/gitlab-ci-local</a></strong></p></blockquote><img width=810 style=text-align:center alt=image src=https://github.com/user-attachments/assets/c81d6be8-971e-46bb-aec6-8ae213ef5409><h3 id=sebenernya-benda-apa-sih-itu>Sebenernya benda apa sih itu?</h3><p>Simpelnya gini, <em>agent</em> yang ada pada <em><strong><a href=https://docs.gitlab.com/runner/>gitlab runner</a></strong></em> di <em>cloning</em> dan bisa kita jalanin di mesin lokal kita, dan tentu bisa dijalankan juga di server runner, tinggal sesuaikan saja semau kita ğŸ˜±</p><h3 id=emangnya-kenapa-tuh-kalo-bisa-jalan-di-mesin-lokal-kita->Emangnya kenapa tuh kalo bisa jalan di mesin lokal kita ?</h3><img width=400 style=text-align:center alt=image src=https://github.com/user-attachments/assets/3617e030-f6e0-4dab-9f28-289a11688bc8><p>hadeuhhh, jadi gini.. yang dimaksud bisa jalan di mesin lokal kita itu, dia bisa di <strong>trigger langsung di mesin kita</strong> tanpa lewat GitLab Web UI nya. Jadi kita bisa langsung testing dengan leluasa tanpa harus repot2 trigger dari GitLab, tanpa harus nunggu lama buat ngecek job yang error, karena disini kita bisa milih mau run job yang mana aja tanpa harus ngulang dari awal ğŸ˜œ</p><h3 id=lahh-terus-apa-bedanya-dong-sama-gitlab-runner-biasa--kan-bisa-jalan-di-lokal-juga-tuh>Lahh&mldr; Terus apa bedanya dong sama gitlab runner biasa ? Kan bisa jalan di lokal juga tuh</h3><p>Bisa&mldr; tapi fiturnya nggak selengkap dan se-leluasa ini, lagian fitur ini udah <em><strong>deprecated</strong></em> dari gitlab nya alias udah ga bakal kepake lagi dan udah nggak di maintain lagi sama tim gitlab.</p><blockquote><p>source : <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/385235>https://gitlab.com/gitlab-org/gitlab/-/issues/385235</a></p></blockquote><p>Oke, daripada kelamaan basa - basi, langsung kita praktek aja ğŸ”¬</p><h2 id=instalasi>Instalasi</h2><p>Karena aku disini pake Distro linux berbasis debian, instalasinya gini aja..</p><p>pertama, tambahin reponya dulu</p><pre tabindex=0><code>sudo wget -O /etc/apt/sources.list.d/gitlab-ci-local.sources https://gitlab-ci-local-ppa.firecow.dk/gitlab-ci-local.sources
</code></pre><p>jangan lupa di update reponya</p><pre tabindex=0><code>sudo apt-get update
</code></pre><p>terus install deh packagenya</p><pre tabindex=0><code>sudo apt-get install gitlab-ci-local
</code></pre><p>untuk OS lain atau distribusi lain, bisa langsung cek aja di dokumentasi resminya</p><blockquote><p><a href="https://github.com/firecow/gitlab-ci-local?tab=readme-ov-file#installation">https://github.com/firecow/gitlab-ci-local?tab=readme-ov-file#installation</a></p></blockquote><h2 id=pengetesan>Pengetesan</h2><p>setelah proses instalasi berhasil, pastikan dulu tools nya udah kepasang atau belum</p><pre tabindex=0><code>gitlab-ci-local --version
</code></pre><p>ntar bakal muncul kaya gini</p><img width=391 style=text-align:center alt=image src=https://github.com/user-attachments/assets/7189e130-8f03-484b-8a23-440a70029c4d><p>kalau udah kaya gitu, berarti tools udah kepasang, selanjutnya kita langsung masuk aja ke direktori dimana file .gitlab-ci.yml nya berada.</p><img width=1092 style=text-align:center alt=image src=https://github.com/user-attachments/assets/e5e54079-c34c-4b3e-82b8-b92811c0ca8c><h3 id=list-pipeline-jobs>List Pipeline Jobs</h3><p>Kita bisa melakukan list job pipeline yang ada, dia akan auto detect dari file .gitlab-ci.yml nya itu</p><pre tabindex=0><code>gitlab-ci-local --list
</code></pre><p>outputnya akan menjadi seperti ini</p><img width=1160 style=text-align:center alt=image src=https://github.com/user-attachments/assets/fed098e0-22e3-412b-84ae-4873a9e3b133><p>jika terdapat error terkait json, bisa jadi karena struktur file gitlab-ci kita yang bermasalah, tambahkan flag berikut</p><pre tabindex=0><code>gitlab-ci-local --list --json-schema-validation=false
</code></pre><p>bisa dilihat, semua stage yang ada pada ci file nya akan terbaca. Kita juga bisa menambahkan option <code>--list-all</code> untuk menampilkan stage / job yang di set ke never</p><img width=1165 style=text-align:center alt=image src=https://github.com/user-attachments/assets/84e1095e-602b-42f3-8e4f-207e0687c968><h3 id=run-stage-jobs>Run Stage Jobs</h3><p>Nahh, untuk melakukan pengujian pertama, kita bisa menjalankan stage tertentu pada file ci kita. Contohnya, aku pengen ngerun job / stage bernama <code>deploy_development</code></p><pre tabindex=0><code>gitlab-ci-local deploy_development
</code></pre><p>maka dia akan melakukan running job tersebut secara langsung</p><img width=1173 style=text-align:center alt=image src=https://github.com/user-attachments/assets/b1efdccb-2a20-4e90-bbf8-ee98c81aaf58><p>bisa dilihat seperti pada gambar, job nya <strong>PASS</strong> berarti sukses dijalankan.</p><p>kalian tinggal sesuaikan saja mau testing stage yang mana.</p><h3 id=penutup>Penutup</h3><p>Dengan tools ini, kita bisa dengan leluasa testing dan run job tanpa harus mengotori histori pipeline kita. Sebenarnya masih banyak fitur yang bisa di jelajahi, kalian bisa ngulik sendiri di dokumentasi resminya, yang di praktekkan disini cuma yang sering aku pake aja.</p><p>Terimakasih sudah membaca ğŸ˜„</p><p><strong><em>Last Update : 2025/10/04</em></strong></p></content></main><footer>Ditulis dengan {â¤ï¸} di Klaten - Jakarta</footer></body></html>